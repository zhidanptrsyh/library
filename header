local HttpService = game:GetService("HttpService")

if not isfolder("MengHub") then
    makefolder("MengHub")
end
if not isfolder("MengHub/Config") then
    makefolder("MengHub/Config")
end

local gameName   = tostring(game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name)
gameName         = gameName:gsub("[^%w_ ]", "")
gameName         = gameName:gsub("%s+", "_")

local ConfigFile = "MengHub/Config/MengHub_" .. gameName .. ".json"

ConfigData       = {}
Elements         = {}
CURRENT_VERSION  = nil

function SaveConfig()
    if writefile then
        ConfigData._version = CURRENT_VERSION
        writefile(ConfigFile, HttpService:JSONEncode(ConfigData))
    end
end

function LoadConfigFromFile()
    if not CURRENT_VERSION then return end
    if isfile and isfile(ConfigFile) then
        local success, result = pcall(function()
            return HttpService:JSONDecode(readfile(ConfigFile))
        end)
        if success and type(result) == "table" then
            if result._version == CURRENT_VERSION then
                ConfigData = result
            else
                ConfigData = { _version = CURRENT_VERSION }
            end
        else
            ConfigData = { _version = CURRENT_VERSION }
        end
    else
        ConfigData = { _version = CURRENT_VERSION }
    end
end

function LoadConfigElements()
    for key, element in pairs(Elements) do
        if ConfigData[key] ~= nil and element.Set then
            element:Set(ConfigData[key], true)
        end
    end
end

local Icons = {
    player    = "rbxassetid://12120698352",
    web       = "rbxassetid://137601480983962",
    bag       = "rbxassetid://8601111810",
    shop      = "rbxassetid://4985385964",
    cart      = "rbxassetid://128874923961846",
    plug      = "rbxassetid://137601480983962",
    settings  = "rbxassetid://70386228443175",
    loop      = "rbxassetid://122032243989747",
    gps       = "rbxassetid://17824309485",
    compas    = "rbxassetid://125300760963399",
    gamepad   = "rbxassetid://84173963561612",
    boss      = "rbxassetid://13132186360",
    scroll    = "rbxassetid://114127804740858",
    menu      = "rbxassetid://6340513838",
    crosshair = "rbxassetid://12614416478",
    user      = "rbxassetid://108483430622128",
    stat      = "rbxassetid://12094445329",
    eyes      = "rbxassetid://14321059114",
    sword     = "rbxassetid://82472368671405",
    discord   = "rbxassetid://94434236999817",
    star      = "rbxassetid://107005941750079",
    skeleton  = "rbxassetid://17313330026",
    payment   = "rbxassetid://18747025078",
    scan      = "rbxassetid://109869955247116",
    alert     = "rbxassetid://73186275216515",
    question  = "rbxassetid://17510196486",
    idea      = "rbxassetid://16833255748",
    strom     = "rbxassetid://13321880293",
    water     = "rbxassetid://100076212630732",
    dcs       = "rbxassetid://15310731934",
    start     = "rbxassetid://108886429866687",
    next      = "rbxassetid://12662718374",
    rod       = "rbxassetid://103247953194129",
    fish      = "rbxassetid://97167558235554",
}

local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = game:GetService("Players").LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local CoreGui = game:GetService("CoreGui")
local viewport = workspace.CurrentCamera.ViewportSize

local function isMobileDevice()
    return UserInputService.TouchEnabled
        and not UserInputService.KeyboardEnabled
        and not UserInputService.MouseEnabled
end

local isMobile = isMobileDevice()

local function safeSize(pxWidth, pxHeight)
    local scaleX = pxWidth / viewport.X
    local scaleY = pxHeight / viewport.Y

    if isMobile then
        if scaleX > 0.5 then scaleX = 0.5 end
        if scaleY > 0.3 then scaleY = 0.3 end
    end

    return UDim2.new(scaleX, 0, scaleY, 0)
end

local function MakeDraggable(topbarobject, object)
    local function CustomPos(topbarobject, object)
        local Dragging, DragInput, DragStart, StartPosition

        local function UpdatePos(input)
            local Delta = input.Position - DragStart
            local pos = UDim2.new(
                StartPosition.X.Scale,
                StartPosition.X.Offset + Delta.X,
                StartPosition.Y.Scale,
                StartPosition.Y.Offset + Delta.Y
            )
            local Tween = TweenService:Create(object, TweenInfo.new(0.2), { Position = pos })
            Tween:Play()
        end

        topbarobject.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                Dragging = true
                DragStart = input.Position
                StartPosition = object.Position
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then
                        Dragging = false
                    end
                end)
            end
        end)

        topbarobject.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                DragInput = input
            end
        end)

        UserInputService.InputChanged:Connect(function(input)
            if input == DragInput and Dragging then
                UpdatePos(input)
            end
        end)
    end

    local function CustomSize(object)
        local Dragging, DragInput, DragStart, StartSize

        local minSizeX, minSizeY
        local defSizeX, defSizeY

        if isMobile then
            minSizeX, minSizeY = 100, 100
            defSizeX, defSizeY = 470, 270
        else
            minSizeX, minSizeY = 100, 100
            defSizeX, defSizeY = 640, 400
        end

        object.Size = UDim2.new(0, defSizeX, 0, defSizeY)

        local changesizeobject = Instance.new("Frame")
        changesizeobject.AnchorPoint = Vector2.new(1, 1)
        changesizeobject.BackgroundTransparency = 1
        changesizeobject.Size = UDim2.new(0, 40, 0, 40)
        changesizeobject.Position = UDim2.new(1, 20, 1, 20)
        changesizeobject.Name = "changesizeobject"
        changesizeobject.Parent = object

        local function UpdateSize(input)
            local Delta = input.Position - DragStart
            local newWidth = StartSize.X.Offset + Delta.X
            local newHeight = StartSize.Y.Offset + Delta.Y

            newWidth = math.max(newWidth, minSizeX)
            newHeight = math.max(newHeight, minSizeY)

            local Tween = TweenService:Create(object, TweenInfo.new(0.2), { Size = UDim2.new(0, newWidth, 0, newHeight) })
            Tween:Play()
        end

        changesizeobject.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                Dragging = true
                DragStart = input.Position
                StartSize = object.Size
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then
                        Dragging = false
                    end
                end)
            end
        end)

        changesizeobject.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                DragInput = input
            end
        end)

        UserInputService.InputChanged:Connect(function(input)
            if input == DragInput and Dragging then
                UpdateSize(input)
            end
        end)
    end

    CustomSize(object)
    CustomPos(topbarobject, object)
end

function CircleClick(Button, X, Y)
    spawn(function()
        Button.ClipsDescendants = true
        local Circle = Instance.new("ImageLabel")
        Circle.Image = "rbxassetid://266543268"
        Circle.ImageColor3 = Color3.fromRGB(80, 80, 80)
        Circle.ImageTransparency = 0.8999999761581421
        Circle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        Circle.BackgroundTransparency = 1
        Circle.ZIndex = 10
        Circle.Name = "Circle"
        Circle.Parent = Button

        local NewX = X - Circle.AbsolutePosition.X
        local NewY = Y - Circle.AbsolutePosition.Y
        Circle.Position = UDim2.new(0, NewX, 0, NewY)
        local Size = 0
        if Button.AbsoluteSize.X > Button.AbsoluteSize.Y then
            Size = Button.AbsoluteSize.X * 1.5
        elseif Button.AbsoluteSize.X < Button.AbsoluteSize.Y then
            Size = Button.AbsoluteSize.Y * 1.5
        elseif Button.AbsoluteSize.X == Button.AbsoluteSize.Y then
            Size = Button.AbsoluteSize.X * 1.5
        end

        local Time = 0.5
        Circle:TweenSizeAndPosition(UDim2.new(0, Size, 0, Size), UDim2.new(0.5, -Size / 2, 0.5, -Size / 2), "Out", "Quad",
            Time, false, nil)
        for i = 1, 10 do
            Circle.ImageTransparency = Circle.ImageTransparency + 0.01
            wait(Time / 10)
        end
        Circle:Destroy()
    end)
end

local MengHub = {} -- DIGANTI dari Chloex
function MengHub:MakeNotify(NotifyConfig) -- DIGANTI dari Chloex
    local NotifyConfig = NotifyConfig or {}
    NotifyConfig.Title = NotifyConfig.Title or "MengHub" -- DIGANTI dari "Chloe X"
    NotifyConfig.Description = NotifyConfig.Description or "Notification"
    NotifyConfig.Content = NotifyConfig.Content or "Content"
    NotifyConfig.Color = NotifyConfig.Color or Color3.fromRGB(255, 0, 255)
    NotifyConfig.Time = NotifyConfig.Time or 0.5
    NotifyConfig.Delay = NotifyConfig.Delay or 5
    local NotifyFunction = {}
    spawn(function()
        if not CoreGui:FindFirstChild("NotifyGui") then
            local NotifyGui = Instance.new("ScreenGui");
            NotifyGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
            NotifyGui.Name = "NotifyGui"
            NotifyGui.Parent = CoreGui
        end
        if not CoreGui.NotifyGui:FindFirstChild("NotifyLayout") then
            local NotifyLayout = Instance.new("Frame");
            NotifyLayout.AnchorPoint = Vector2.new(1, 1)
            NotifyLayout.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            NotifyLayout.BackgroundTransparency = 0.9990000128746033
            NotifyLayout.BorderColor3 = Color3.fromRGB(0, 0, 0)
            NotifyLayout.BorderSizePixel = 0
            NotifyLayout.Position = UDim2.new(1, -30, 1, -30)
            NotifyLayout.Size = UDim2.new(0, 320, 1, 0)
            NotifyLayout.Name = "NotifyLayout"
            NotifyLayout.Parent = CoreGui.NotifyGui
            local Count = 0
            CoreGui.NotifyGui.NotifyLayout.ChildRemoved:Connect(function()
                Count = 0
                for i, v in CoreGui.NotifyGui.NotifyLayout:GetChildren() do
                    TweenService:Create(
                        v,
                        TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut),
                        { Position = UDim2.new(0, 0, 1, -((v.Size.Y.Offset + 12) * Count)) }
                    ):Play()
                    Count = Count + 1
                end
            end)
        end
        local NotifyPosHeigh = 0
        for i, v in CoreGui.NotifyGui.NotifyLayout:GetChildren() do
            NotifyPosHeigh = -(v.Position.Y.Offset) + v.Size.Y.Offset + 12
        end
        local NotifyFrame = Instance.new("Frame");
        local NotifyFrameReal = Instance.new("Frame");
        local UICorner = Instance.new("UICorner");
        local DropShadowHolder = Instance.new("Frame");
        local DropShadow = Instance.new("ImageLabel");
        local Top = Instance.new("Frame");
        local TextLabel = Instance.new("TextLabel");
        local UICorner1 = Instance.new("UICorner");
        local TextLabel1 = Instance.new("TextLabel");
        local Close = Instance.new("TextButton");
        local ImageLabel = Instance.new("ImageLabel");
        local TextLabel2 = Instance.new("TextLabel");

        NotifyFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        NotifyFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
        NotifyFrame.BorderSizePixel = 0
        NotifyFrame.Size = UDim2.new(1, 0, 0, 150)
        NotifyFrame.Name = "NotifyFrame"
        NotifyFrame.BackgroundTransparency = 1
        NotifyFrame.Parent = CoreGui.NotifyGui.NotifyLayout
        NotifyFrame.AnchorPoint = Vector2.new(0, 1)
        NotifyFrame.Position = UDim2.new(0, 0, 1, -(NotifyPosHeigh))

        NotifyFrameReal.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        NotifyFrameReal.BorderColor3 = Color3.fromRGB(0, 0, 0)
        NotifyFrameReal.BorderSizePixel = 0
        NotifyFrameReal.Position = UDim2.new(0, 400, 0, 0)
        NotifyFrameReal.Size = UDim2.new(1, 0, 1, 0)
        NotifyFrameReal.Name = "NotifyFrameReal"
        NotifyFrameReal.Parent = NotifyFrame

        UICorner.Parent = NotifyFrameReal
        UICorner.CornerRadius = UDim.new(0, 8)

        DropShadowHolder.BackgroundTransparency = 1
        DropShadowHolder.BorderSizePixel = 0
        DropShadowHolder.Size = UDim2.new(1, 0, 1, 0)
        DropShadowHolder.ZIndex = 0
        DropShadowHolder.Name = "DropShadowHolder"
        DropShadowHolder.Parent = NotifyFrameReal

        Top.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Top.BackgroundTransparency = 0.9990000128746033
        Top.BorderColor3 = Color3.fromRGB(0, 0, 0)
        Top.BorderSizePixel = 0
        Top.Size = UDim2.new(1, 0, 0, 36)
        Top.Name = "Top"
        Top.Parent = NotifyFrameReal

        TextLabel.Font = Enum.Font.GothamBold
        TextLabel.Text = NotifyConfig.Title
        TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel.TextSize = 14
        TextLabel.TextXAlignment = Enum.TextXAlignment.Left
        TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel.BackgroundTransparency = 0.9990000128746033
        TextLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
        TextLabel.BorderSizePixel = 0
        TextLabel.Size = UDim2.new(1, 0, 1, 0)
        TextLabel.Parent = Top
        TextLabel.Position = UDim2.new(0, 10, 0, 0)

        UICorner1.Parent = Top
        UICorner1.CornerRadius = UDim.new(0, 5)

        TextLabel1.Font = Enum.Font.GothamBold
        TextLabel1.Text = NotifyConfig.Description
        TextLabel1.TextColor3 = NotifyConfig.Color
        TextLabel1.TextSize = 14
        TextLabel1.TextXAlignment = Enum.TextXAlignment.Left
        TextLabel1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel1.BackgroundTransparency = 0.9990000128746033
        TextLabel1.BorderColor3 = Color3.fromRGB(0, 0, 0)
        TextLabel1.BorderSizePixel = 0
        TextLabel1.Size = UDim2.new(1, 0, 1, 0)
        TextLabel1.Position = UDim2.new(0, TextLabel.TextBounds.X + 15, 0, 0)
        TextLabel1.Parent = Top

        Close.Font = Enum.Font.SourceSans
        Close.Text = ""
        Close.TextColor3 = Color3.fromRGB(0, 0, 0)
        Close.TextSize = 14
        Close.AnchorPoint = Vector2.new(1, 0.5)
        Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        Close.BackgroundTransparency = 0.9990000128746033
        Close.BorderColor3 = Color3.fromRGB(0, 0, 0)
        Close.BorderSizePixel = 0
        Close.Position = UDim2.new(1, -5, 0.5, 0)
        Close.Size = UDim2.new(0, 25, 0, 25)
        Close.Name = "Close"
        Close.Parent = Top

        ImageLabel.Image = "rbxassetid://9886659671"
        ImageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
        ImageLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        ImageLabel.BackgroundTransparency = 0.9990000128746033
        ImageLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
        ImageLabel.BorderSizePixel = 0
        ImageLabel.Position = UDim2.new(0.49000001, 0, 0.5, 0)
        ImageLabel.Size = UDim2.new(1, -8, 1, -8)
        ImageLabel.Parent = Close

        TextLabel2.Font = Enum.Font.GothamBold
        TextLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel2.TextSize = 13
        TextLabel2.Text = NotifyConfig.Content
        TextLabel2.TextXAlignment = Enum.TextXAlignment.Left
        TextLabel2.TextYAlignment = Enum.TextYAlignment.Top
        TextLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel2.BackgroundTransparency = 0.9990000128746033
        TextLabel2.TextColor3 = Color3.fromRGB(150.0000062584877, 150.0000062584877, 150.0000062584877)
        TextLabel2.BorderColor3 = Color3.fromRGB(0, 0, 0)
        TextLabel2.BorderSizePixel = 0
        TextLabel2.Position = UDim2.new(0, 10, 0, 27)
        TextLabel2.Parent = NotifyFrameReal
        TextLabel2.Size = UDim2.new(1, -20, 0, 13)

        TextLabel2.Size = UDim2.new(1, -20, 0, 13 + (13 * (TextLabel2.TextBounds.X // TextLabel2.AbsoluteSize.X)))
        TextLabel2.TextWrapped = true

        if TextLabel2.AbsoluteSize.Y < 27 then
            NotifyFrame.Size = UDim2.new(1, 0, 0, 65)
        else
            NotifyFrame.Size = UDim2.new(1, 0, 0, TextLabel2.AbsoluteSize.Y + 40)
        end
        local waitbruh = false
        function NotifyFunction:Close()
            if waitbruh then
                return false
            end
            waitbruh = true
            TweenService:Create(
                NotifyFrameReal,
                TweenInfo.new(tonumber(NotifyConfig.Time), Enum.EasingStyle.Back, Enum.EasingDirection.InOut),
                { Position = UDim2.new(0, 400, 0, 0) }
            ):Play()
            task.wait(tonumber(NotifyConfig.Time) / 1.2)
            NotifyFrame:Destroy()
        end

        Close.Activated:Connect(function()
            NotifyFunction:Close()
        end)
        TweenService:Create(
            NotifyFrameReal,
            TweenInfo.new(tonumber(NotifyConfig.Time), Enum.EasingStyle.Back, Enum.EasingDirection.InOut),
            { Position = UDim2.new(0, 0, 0, 0) }
        ):Play()
        task.wait(tonumber(NotifyConfig.Delay))
        NotifyFunction:Close()
    end)
    return NotifyFunction
end

function menghub(msg, delay, color, title, desc) -- DIGANTI dari chloex
    return MengHub:MakeNotify({ -- DIGANTI dari Chloex
        Title = title or "MengHub", -- DIGANTI dari "Chloe X"
        Description = desc or "Notification",
        Content = msg or "Content",
        Color = color or Color3.fromRGB(0, 208, 255),
        Delay = delay or 4
    })
end

function MengHub:Window(GuiConfig) -- DIGANTI dari Chloex
  
    GuiConfig              = GuiConfig or {}
    GuiConfig.Title        = GuiConfig.Title or "MengHub" -- DIGANTI dari "Chloe X"
    GuiConfig.Footer       = GuiConfig.Footer or "MengHub :3" -- DIGANTI dari "Chloee :3"
    GuiConfig.Color        = GuiConfig.Color or Color3.fromRGB(255, 0, 255)
    GuiConfig["Tab Width"] = GuiConfig["Tab Width"] or 120
    GuiConfig.Version      = GuiConfig.Version or 1

    CURRENT_VERSION        = GuiConfig.Version
    LoadConfigFromFile()

    local GuiFunc = {}

    local MengHubGui = Instance.new("ScreenGui"); -- DIGANTI dari Chloeex
    local DropShadowHolder = Instance.new("Frame");
    local DropShadow = Instance.new("ImageLabel");
    local Main = Instance.new("Frame");
    local UICorner = Instance.new("UICorner");
    local Top = Instance.new("Frame");
    local TextLabel = Instance.new("TextLabel");
    local UICorner1 = Instance.new("UICorner");
    local TextLabel1 = Instance.new("TextLabel");
    local Close = Instance.new("TextButton");
    local ImageLabel1 = Instance.new("ImageLabel");
    local Min = Instance.new("TextButton");
    local ImageLabel2 = Instance.new("ImageLabel");
    local LayersTab = Instance.new("Frame");
    local UICorner2 = Instance.new("UICorner");
    local DecideFrame = Instance.new("Frame");
    local Layers = Instance.new("Frame");
    local UICorner6 = Instance.new("UICorner");
    local NameTab = Instance.new("TextLabel");
    local LayersReal = Instance.new("Frame");
    local LayersFolder = Instance.new("Folder");
    local LayersPageLayout = Instance.new("UIPageLayout");

    MengHubGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling -- DIGANTI dari Chloeex
    MengHubGui.Name = "MengHubGui" -- DIGANTI dari "Chloeex"
    MengHubGui.ResetOnSpawn = false
    MengHubGui.Parent = game:GetService("CoreGui")

    DropShadowHolder.BackgroundTransparency = 1
    DropShadowHolder.BorderSizePixel = 0
    DropShadowHolder.AnchorPoint = Vector2.new(0.5, 0.5)
    DropShadowHolder.Position = UDim2.new(0.5, 0, 0.5, 0)
    if isMobile then
        DropShadowHolder.Size = safeSize(470, 270)
    else
        DropShadowHolder.Size = safeSize(640, 400)
    end
    DropShadowHolder.ZIndex = 0
    DropShadowHolder.Name = "DropShadowHolder"
    DropShadowHolder.Parent = MengHubGui -- DIGANTI dari Chloeex

    DropShadowHolder.Position = UDim2.new(0, (MengHubGui.AbsoluteSize.X // 2 - DropShadowHolder.Size.X.Offset // 2), 0,
        (MengHubGui.AbsoluteSize.Y // 2 - DropShadowHolder.Size.Y.Offset // 2))
    DropShadow.Image = "rbxassetid://6015897843"
    DropShadow.ImageColor3 = Color3.fromRGB(15, 15, 15)
    DropShadow.ImageTransparency = 1
    DropShadow.ScaleType = Enum.ScaleType.Slice
    DropShadow.SliceCenter = Rect.new(49, 49, 450, 450)
    DropShadow.AnchorPoint = Vector2.new(0.5, 0.5)
    DropShadow.BackgroundTransparency = 1
    DropShadow.BorderSizePixel = 0
    DropShadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    DropShadow.Size = UDim2.new(1, 47, 1, 47)
    DropShadow.ZIndex = 0
    DropShadow.Name = "DropShadow"
    DropShadow.Parent = DropShadowHolder

    if GuiConfig.Theme then
        Main:Destroy()
        Main = Instance.new("ImageLabel")
        Main.Image = "rbxassetid://" .. GuiConfig.Theme
        Main.ScaleType = Enum.ScaleType.Crop
        Main.BackgroundTransparency = 1
        Main.ImageTransparency = GuiConfig.ThemeTransparency or 0.15
    else
        Main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Main.BackgroundTransparency = 0
    end

    Main.AnchorPoint = Vector2.new(0.5, 0.5)
    Main.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Main.BorderSizePixel = 0
    Main.Position = UDim2.new(0.5, 0, 0.5, 0)
    Main.Size = UDim2.new(1, -47, 1, -47)
    Main.Name = "Main"
    Main.Parent = DropShadow

    UICorner.Parent = Main

    Top.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Top.BackgroundTransparency = 0.9990000128746033
    Top.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Top.BorderSizePixel = 0
    Top.Size = UDim2.new(1, 0, 0, 38)
    Top.Name = "Top"
    Top.Parent = Main

    TextLabel.Font = Enum.Font.GothamBold
    TextLabel.Text = GuiConfig.Title
    TextLabel.TextColor3 = GuiConfig.Color
    TextLabel.TextSize = 14
    TextLabel.TextXAlignment = Enum.TextXAlignment.Left
    TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel.BackgroundTransparency = 0.9990000128746033
    TextLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.BorderSizePixel = 0
    TextLabel.Size = UDim2.new(1, -100, 1, 0)
    TextLabel.Position = UDim2.new(0, 10, 0, 0)
    TextLabel.Parent = Top

    UICorner1.Parent = Top

    TextLabel1.Font = Enum.Font.GothamBold
    TextLabel1.Text = GuiConfig.Footer
    TextLabel1.TextColor3 = GuiConfig.Color
    TextLabel1.TextSize = 14
    TextLabel1.TextXAlignment = Enum.TextXAlignment.Left
    TextLabel1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel1.BackgroundTransparency = 0.9990000128746033
    TextLabel1.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel1.BorderSizePixel = 0
    TextLabel1.Size = UDim2.new(1, -(TextLabel.TextBounds.X + 104), 1, 0)
    TextLabel1.Position = UDim2.new(0, TextLabel.TextBounds.X + 15, 0, 0)
    TextLabel1.Parent = Top

    Close.Font = Enum.Font.SourceSans
    Close.Text = ""
    Close.TextColor3 = Color3.fromRGB(0, 0, 0)
    Close.TextSize = 14
    Close.AnchorPoint = Vector2.new(1, 0.5)
    Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Close.BackgroundTransparency = 0.9990000128746033
    Close.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Close.BorderSizePixel = 0
    Close.Position = UDim2.new(1, -8, 0.5, 0)
    Close.Size = UDim2.new(0, 25, 0, 25)
    Close.Name = "Close"
    Close.Parent = Top

    ImageLabel1.Image = "rbxassetid://9886659671"
    ImageLabel1.AnchorPoint = Vector2.new(0.5, 0.5)
    ImageLabel1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ImageLabel1.BackgroundTransparency = 0.9990000128746033
    ImageLabel1.BorderColor3 = Color3.fromRGB(0, 0, 0)
    ImageLabel1.BorderSizePixel = 0
    ImageLabel1.Position = UDim2.new(0.49, 0, 0.5, 0)
    ImageLabel1.Size = UDim2.new(1, -8, 1, -8)
    ImageLabel1.Parent = Close

    Min.Font = Enum.Font.SourceSans
    Min.Text = ""
    Min.TextColor3 = Color3.fromRGB(0, 0, 0)
    Min.TextSize = 14
    Min.AnchorPoint = Vector2.new(1, 0.5)
    Min.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Min.BackgroundTransparency = 0.9990000128746033
    Min.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Min.BorderSizePixel = 0
    Min.Position = UDim2.new(1, -38, 0.5, 0)
    Min.Size = UDim2.new(0, 25, 0, 25)
    Min.Name = "Min"
    Min.Parent = Top

    ImageLabel2.Image = "rbxassetid://9783935639"
    ImageLabel2.AnchorPoint = Vector2.new(0.5, 0.5)
    ImageLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ImageLabel2.BackgroundTransparency = 0.9990000128746033
    ImageLabel2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    ImageLabel2.BorderSizePixel = 0
    ImageLabel2.Position = UDim2.new(0.49, 0, 0.5, 0)
    ImageLabel2.Size = UDim2.new(1, -8, 1, -8)
    ImageLabel2.Parent = Min

    LayersTab.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    LayersTab.BackgroundTransparency = 0.9990000128746033
    LayersTab.BorderColor3 = Color3.fromRGB(0, 0, 0)
    LayersTab.BorderSizePixel = 0
    LayersTab.Position = UDim2.new(0, 9, 0, 50)
    LayersTab.Size = UDim2.new(0, GuiConfig["Tab Width"], 1, -59)
    LayersTab.Name = "LayersTab"
    LayersTab.Parent = Main

    UICorner2.CornerRadius = UDim.new(0, 2)
    UICorner2.Parent = LayersTab

    local UIListLayout = Instance.new("UIListLayout")
    UIListLayout.Padding = UDim.new(0, 2)
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Parent = LayersTab

    DecideFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    DecideFrame.BackgroundTransparency = 0.85
    DecideFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
    DecideFrame.BorderSizePixel = 0
    DecideFrame.Position = UDim2.new(0.5, 0, 0, 38)
    DecideFrame.Size = UDim2.new(1, 0, 0, 1)
    DecideFrame.Name = "DecideFrame"
    DecideFrame.Parent = Main

    Layers.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Layers.BackgroundTransparency = 0.9990000128746033
    Layers.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Layers.BorderSizePixel = 0
    Layers.Position = UDim2.new(0, GuiConfig["Tab Width"] + 18, 0, 50)
    Layers.Size = UDim2.new(1, -(GuiConfig["Tab Width"] + 9 + 18), 1, -59)
    Layers.Name = "Layers"
    Layers.Parent = Main

    UICorner6.CornerRadius = UDim.new(0, 2)
    UICorner6.Parent = Layers

    NameTab.Font = Enum.Font.GothamBold
    NameTab.Text = ""
    NameTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    NameTab.TextSize = 24
    NameTab.TextWrapped = true
    NameTab.TextXAlignment = Enum.TextXAlignment.Left
    NameTab.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    NameTab.BackgroundTransparency = 0.9990000128746033
    NameTab.BorderColor3 = Color3.fromRGB(0, 0, 0)
    NameTab.BorderSizePixel = 0
    NameTab.Size = UDim2.new(1, 0, 0, 38)
    NameTab.Position = UDim2.new(0, 10, 0, 4)
    NameTab.Name = "NameTab"
    NameTab.Parent = Main

    LayersReal.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    LayersReal.BackgroundTransparency = 0.9990000128746033
    LayersReal.BorderColor3 = Color3.fromRGB(0, 0, 0)
    LayersReal.BorderSizePixel = 0
    LayersReal.Size = UDim2.new(1, 0, 1, 0)
    LayersReal.Name = "LayersReal"
    LayersReal.Parent = Layers

    LayersFolder.Name = "LayersFolder"
    LayersFolder.Parent = LayersReal

    LayersPageLayout.TweenTime = 0.1
    LayersPageLayout.EasingStyle = Enum.EasingStyle.Sine
    LayersPageLayout.EasingDirection = Enum.EasingDirection.Out
    LayersPageLayout.Padding = UDim.new(0, 0)
    LayersPageLayout.Parent = LayersFolder

    local Tabs = {}
    local CurrentTab = nil

    local Dialog = Instance.new("Frame")
    Dialog.Size = UDim2.new(0, 300, 0, 150)
    Dialog.Position = UDim2.new(0.5, -150, 0.5, -75)
    Dialog.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Dialog.BackgroundTransparency = 0
    Dialog.BorderSizePixel = 0
    Dialog.ZIndex = 51
    Dialog.Parent = MengHubGui
    Dialog.Visible = false

    local UICorner = Instance.new("UICorner", Dialog)
    UICorner.CornerRadius = UDim.new(0, 8)

    local DialogGlow = Instance.new("Frame")
    DialogGlow.Size = UDim2.new(0, 310, 0, 160)
    DialogGlow.Position = UDim2.new(0.5, -155, 0.5, -80)
    DialogGlow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    DialogGlow.BackgroundTransparency = 0.75
    DialogGlow.BorderSizePixel = 0
    DialogGlow.ZIndex = 50
    DialogGlow.Parent = MengHubGui
    DialogGlow.Visible = false

    local Gradient = Instance.new("UIGradient")
    Gradient.Color = ColorSequence.new({ ColorSequenceKeypoint.new(0.0, Color3.fromRGB(0, 191, 255)), ColorSequenceKeypoint.new(0.25, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 140, 255)), ColorSequenceKeypoint.new(0.75, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.0, Color3.fromRGB(0, 191, 255)) })
    Gradient.Rotation = 90
    Gradient.Parent = DialogGlow

    local GlowCorner = Instance.new("UICorner", DialogGlow)
    GlowCorner.CornerRadius = UDim.new(0, 10)

    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.Position = UDim2.new(0, 0, 0, 4)
    Title.BackgroundTransparency = 1
    Title.Font = Enum.Font.GothamBold
    Title.Text = "Dialog"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 18
    Title.TextXAlignment = Enum.TextXAlignment.Center
    Title.Parent = Dialog

    local Text = Instance.new("TextLabel")
    Text.Size = UDim2.new(1, -20, 0, 50)
    Text.Position = UDim2.new(0, 10, 0, 40)
    Text.BackgroundTransparency = 1
    Text.Font = Enum.Font.Gotham
    Text.Text = "Are you sure you want to run this feature?"
    Text.TextColor3 = Color3.fromRGB(180, 180, 180)
    Text.TextSize = 14
    Text.TextWrapped = true
    Text.TextXAlignment = Enum.TextXAlignment.Left
    Text.TextYAlignment = Enum.TextYAlignment.Top
    Text.Parent = Dialog

    local Button1 = Instance.new("TextButton")
    Button1.Size = UDim2.new(0.5, -15, 0, 30)
    Button1.Position = UDim2.new(0, 10, 0, 110)
    Button1.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
    Button1.BackgroundTransparency = 0
    Button1.BorderSizePixel = 0
    Button1.Font = Enum.Font.GothamBold
    Button1.Text = "Confirm"
    Button1.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button1.TextSize = 14
    Button1.Parent = Dialog
    Instance.new("UICorner", Button1).CornerRadius = UDim.new(0, 6)

    local Button2 = Instance.new("TextButton")
    Button2.Size = UDim2.new(0.5, -15, 0, 30)
    Button2.Position = UDim2.new(0.5, 5, 0, 110)
    Button2.BackgroundColor3 = Color3.fromRGB(180, 0, 0)
    Button2.BackgroundTransparency = 0
    Button2.BorderSizePixel = 0
    Button2.Font = Enum.Font.GothamBold
    Button2.Text = "Cancel"
    Button2.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button2.TextSize = 14
    Button2.Parent = Dialog
    Instance.new("UICorner", Button2).CornerRadius = UDim.new(0, 6)

    function GuiFunc:Notify(NotifyConfig)
        return MengHub:MakeNotify(NotifyConfig) -- DIGANTI dari Chloex
    end

    function GuiFunc:Dialog(TitleText, ContentText, Button1Text, Button2Text, Callback)
        local DialogFunc = {}
        Title.Text = TitleText or "Dialog"
        Text.Text = ContentText or "Are you sure you want to run this feature?"
        Button1.Text = Button1Text or "Confirm"
        Button2.Text = Button2Text or "Cancel"

        Dialog.Visible = true
        DialogGlow.Visible = true

        local function CloseDialog()
            Dialog.Visible = false
            DialogGlow.Visible = false
        end

        local Button1Conn = Button1.MouseButton1Click:Connect(function()
            CloseDialog()
            if Callback then
                Callback(true)
            end
        end)

        local Button2Conn = Button2.MouseButton1Click:Connect(function()
            CloseDialog()
            if Callback then
                Callback(false)
            end
        end)
    end

    local MainButton = Instance.new("Frame")
    if GuiConfig.Image then
        MainButton:Destroy()
        MainButton = Instance.new("ImageButton")
        MainButton.Image = "rbxassetid://" .. GuiConfig.Image
        MainButton.ScaleType = Enum.ScaleType.Fit
    end
    MainButton.Parent = MengHubGui -- DIGANTI dari ScreenGui
    MainButton.Size = UDim2.new(0, 40, 0, 40)
    MainButton.Position = UDim2.new(0, 20, 0, 100)
    MainButton.BackgroundTransparency = 1
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 6)
    UICorner.Parent = MainButton

    local Button = Instance.new("TextButton")
    Button.Parent = MainButton
    Button.Size = UDim2.new(1, 0, 1, 0)
    Button.BackgroundTransparency = 1
    Button.Text = ""
    Button.MouseButton1Click:Connect(function()
        if DropShadowHolder then
            DropShadowHolder.Visible = not DropShadowHolder.Visible
        end
    end)

    local dragging = false
    local dragStart, startPos
    local function update(input)
        local delta = input.Position - dragStart
        MainButton.Position = UDim2.new(
            startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y
        )
    end

    MainButton.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = MainButton.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            update(input)
        end
    end)

    function GuiFunc:AddTab(TabConfig)
        TabConfig = TabConfig or {}
        TabConfig.Name = TabConfig.Name or "Tab"
        TabConfig.Icon = TabConfig.Icon or "rbxassetid://137601480983962"
        local Tab = Instance.new("Frame")
        Tab.BackgroundColor3 = GuiConfig.Color
        Tab.BackgroundTransparency = 0.95
        Tab.BorderSizePixel = 0
        Tab.Size = UDim2.new(1, 0, 0, 40)
        Tab.Name = "Tab"
        Tab.Parent = LayersTab

        local UICorner = Instance.new("UICorner")
        UICorner.CornerRadius = UDim.new(0, 6)
        UICorner.Parent = Tab

        local TabButton = Instance.new("TextButton")
        TabButton.Font = Enum.Font.SourceSans
        TabButton.Text = ""
        TabButton.TextColor3 = Color3.fromRGB(0, 0, 0)
        TabButton.TextSize = 14
        TabButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TabButton.BackgroundTransparency = 1
        TabButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
        TabButton.BorderSizePixel = 0
        TabButton.Size = UDim2.new(1, 0, 1, 0)
        TabButton.Name = "TabButton"
        TabButton.Parent = Tab

        local TabName = Instance.new("TextLabel")
        TabName.Font = Enum.Font.GothamBold
        TabName.Text = "| " .. tostring(TabConfig.Name)
        TabName.TextColor3 = Color3.fromRGB(255, 255, 255)
        TabName.TextSize = 13
        TabName.TextXAlignment = Enum.TextXAlignment.Left
        TabName.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TabName.BackgroundTransparency = 0.9990000128746033
        TabName.BorderColor3 = Color3.fromRGB(0, 0, 0)
        TabName.BorderSizePixel = 0
        TabName.Size = UDim2.new(1, 0, 1, 0)
        TabName.Position = UDim2.new(0, 30, 0, 0)
        TabName.Parent = Tab

        local TabIcon = Instance.new("ImageLabel")
        TabIcon.Image = TabConfig.Icon
        TabIcon.Size = UDim2.new(0, 20, 0, 20)
        TabIcon.AnchorPoint = Vector2.new(0, 0.5)
        TabIcon.Position = UDim2.new(0, 5, 0.5, 0)
        TabIcon.BackgroundTransparency = 1
        TabIcon.Parent = Tab

        local TabPage = Instance.new("ScrollingFrame")
        TabPage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TabPage.BackgroundTransparency = 0.9990000128746033
        TabPage.BorderColor3 = Color3.fromRGB(0, 0, 0)
        TabPage.BorderSizePixel = 0
        TabPage.Size = UDim2.new(1, 0, 1, 0)
        TabPage.Name = "TabPage"
        TabPage.Parent = LayersFolder

        local UIListLayout1 = Instance.new("UIListLayout")
        UIListLayout1.Padding = UDim.new(0, 5)
        UIListLayout1.SortOrder = Enum.SortOrder.LayoutOrder
        UIListLayout1.Parent = TabPage

        local TabFunc = { Sections = {} }

        function TabFunc:AddSection(SectionConfig)
            SectionConfig = SectionConfig or {}
            SectionConfig.Name = SectionConfig.Name or "Section"

            local Section = Instance.new("Frame")
            Section.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Section.BackgroundTransparency = 0.935
            Section.BorderSizePixel = 0
            Section.ClipsDescendants = true
            Section.Size = UDim2.new(1, 0, 0, 35)
            Section.Name = "Section"
            Section.Parent = TabPage

            local UICorner7 = Instance.new("UICorner")
            UICorner7.CornerRadius = UDim.new(0, 6)
            UICorner7.Parent = Section

            local TextLabel2 = Instance.new("TextLabel")
            TextLabel2.Font = Enum.Font.GothamBold
            TextLabel2.Text = SectionConfig.Name
            TextLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
            TextLabel2.TextSize = 15
            TextLabel2.TextXAlignment = Enum.TextXAlignment.Left
            TextLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            TextLabel2.BackgroundTransparency = 1
            TextLabel2.BorderColor3 = Color3.fromRGB(0, 0, 0)
            TextLabel2.BorderSizePixel = 0
            TextLabel2.Position = UDim2.new(0, 10, 0, 0)
            TextLabel2.Size = UDim2.new(1, 0, 1, 0)
            TextLabel2.Parent = Section

            local ScrolLayers = Instance.new("ScrollingFrame")
            ScrolLayers.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            ScrolLayers.BackgroundTransparency = 0.95
            ScrolLayers.BorderColor3 = Color3.fromRGB(0, 0, 0)
            ScrolLayers.BorderSizePixel = 0
            ScrolLayers.ClipsDescendants = true
            ScrolLayers.LayoutOrder = 1
            ScrolLayers.Position = UDim2.new(0.5, 0, 0, 38)
            ScrolLayers.Size = UDim2.new(1, 0, 0, 100)
            ScrolLayers.Name = "SectionAdd"
            ScrolLayers.Parent = Section

            local UICorner8 = Instance.new("UICorner")
            UICorner8.CornerRadius = UDim.new(0, 2)
            UICorner8.Parent = ScrolLayers

            local UIListLayout2 = Instance.new("UIListLayout")
            UIListLayout2.Padding = UDim.new(0, 3)
            UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
            UIListLayout2.Parent = ScrolLayers

            local OpenSection = false
            local function UpdateSizeScroll()
                local OffsetY = 0
                for _, child in ScrolLayers:GetChildren() do
                    if child.Name ~= "UIListLayout" then
                        OffsetY = OffsetY + 3 + child.Size.Y.Offset
                    end
                end
                ScrolLayers.CanvasSize = UDim2.new(0, 0, 0, OffsetY)
            end

            local function UpdateSize()
                local OffsetY = ScrolLayers.CanvasSize.Y.Offset
                local SectionSize = OffsetY + 40
                local Tween = TweenService:Create(Section, TweenInfo.new(0.2), { Size = UDim2.new(1, 0, 0, SectionSize) })
                Tween:Play()
            end

            local function UpdateSizeClose()
                local Tween = TweenService:Create(Section, TweenInfo.new(0.2), { Size = UDim2.new(1, 0, 0, 35) })
                Tween:Play()
            end

            local OpenButton = Instance.new("TextButton")
            OpenButton.Size = UDim2.new(1, 0, 1, 0)
            OpenButton.BackgroundTransparency = 1
            OpenButton.Text = ""
            OpenButton.Parent = Section

            OpenButton.MouseButton1Click:Connect(function()
                OpenSection = not OpenSection
                if OpenSection then
                    UpdateSize()
                else
                    UpdateSizeClose()
                end
            end)

            local SectionFunc = { Items = {}, UpdateSizeScroll = UpdateSizeScroll }

            function SectionFunc.Items:AddInput(PanelConfig)
                PanelConfig = PanelConfig or {}
                PanelConfig.Title = PanelConfig.Title or "Title"
                PanelConfig.Content = PanelConfig.Content or "Content"
                PanelConfig.Default = PanelConfig.Default or ""
                PanelConfig.SubButtonText = PanelConfig.SubButtonText or nil
                PanelConfig.SubButtonCallback = PanelConfig.SubButtonCallback or function() end
                PanelConfig.Placeholder = PanelConfig.Placeholder or nil
                PanelConfig.PlaceholderColor = PanelConfig.PlaceholderColor or Color3.fromRGB(150, 150, 150)

                local configKey = TabConfig.Name .. SectionConfig.Name .. PanelConfig.Title .. "Input"

                if ConfigData[configKey] ~= nil then PanelConfig.Default = ConfigData[configKey] end
                local PanelFunc = { Value = PanelConfig.Default }
                local baseHeight = 50
                if PanelConfig.Placeholder then baseHeight = baseHeight + 40 end
                if PanelConfig.SubButtonText then baseHeight = baseHeight + 40 else baseHeight = baseHeight + 36 end
                local Panel = Instance.new("Frame")
                Panel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Panel.BackgroundTransparency = 0.935
                Panel.Size = UDim2.new(1, 0, 0, baseHeight)
                Panel.LayoutOrder = CountItem
                Panel.Parent = ScrolLayers

                local UICorner = Instance.new("UICorner")
                UICorner.CornerRadius = UDim.new(0, 4)
                UICorner.Parent = Panel

                local Title = Instance.new("TextLabel")
                Title.Font = Enum.Font.GothamBold
                Title.Text = PanelConfig.Title
                Title.TextSize = 13
                Title.TextColor3 = Color3.fromRGB(255, 255, 255)
                Title.TextXAlignment = Enum.TextXAlignment.Left
                Title.BackgroundTransparency = 1
                Title.Position = UDim2.new(0, 10, 0, 10)
                Title.Size = UDim2.new(1, -20, 0, 13)
                Title.Parent = Panel

                local Content = Instance.new("TextLabel")
                Content.Font = Enum.Font.Gotham
                Content.Text = PanelConfig.Content
                Content.TextSize = 12
                Content.TextColor3 = Color3.fromRGB(255, 255, 255)
                Content.TextTransparency = 0
                Content.TextXAlignment = Enum.TextXAlignment.Left
                Content.BackgroundTransparency = 1
                Content.RichText = true
                Content.Position = UDim2.new(0, 10, 0, 28)
                Content.Size = UDim2.new(1, -20, 0, 12)
                Content.TextWrapped = true
                Content.Parent = Panel

                local InputBox
                local yBtn = 55
                if PanelConfig.Placeholder then
                    yBtn = 80
                    InputBox = Instance.new("TextBox")
                    InputBox.Font = Enum.Font.Gotham
                    InputBox.PlaceholderText = PanelConfig.Placeholder
                    InputBox.PlaceholderColor3 = PanelConfig.PlaceholderColor
                    InputBox.Text = PanelFunc.Value
                    InputBox.TextSize = 13
                    InputBox.TextColor3 = Color3.fromRGB(230, 230, 230)
                    InputBox.TextXAlignment = Enum.TextXAlignment.Left
                    InputBox.BackgroundTransparency = 0.935
                    InputBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    InputBox.Position = UDim2.new(0, 10, 0, 50)
                    InputBox.Size = UDim2.new(1, -20, 0, 30)
                    InputBox.Parent = Panel
                    Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 6)
                end

                if PanelConfig.SubButtonText then
                    local SubButton = Instance.new("TextButton")
                    SubButton.Font = Enum.Font.GothamBold
                    SubButton.Text = PanelConfig.SubButtonText
                    SubButton.TextColor3 = GuiConfig.Color
                    SubButton.TextSize = 12
                    SubButton.TextTransparency = 0.3
                    SubButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    SubButton.BackgroundTransparency = 0.935
                    SubButton.Size = UDim2.new(0.5, -12, 0, 30)
                    SubButton.Position = UDim2.new(0.5, 2, 0, yBtn)
                    SubButton.Parent = Panel
                    local subCorner = Instance.new("UICorner")
                    subCorner.CornerRadius = UDim.new(0, 6)
                    subCorner.Parent = SubButton
                    SubButton.MouseButton1Click:Connect(function() PanelConfig.SubButtonCallback(InputBox and InputBox.Text or "") end)
                end

                if InputBox then
                    InputBox.FocusLost:Connect(function()
                        PanelFunc.Value = InputBox.Text
                        ConfigData[configKey] = InputBox.Text
                        SaveConfig()
                    end)
                end

                function PanelFunc:GetInput() return InputBox and InputBox.Text or "" end

                UpdateSizeScroll()
                return PanelFunc
            end

            function SectionFunc.Items:AddButton(ButtonConfig)
                ButtonConfig = ButtonConfig or {}
                ButtonConfig.Title = ButtonConfig.Title or "Confirm"
                ButtonConfig.Callback = ButtonConfig.Callback or function() end
                ButtonConfig.SubTitle = ButtonConfig.SubTitle or nil
                ButtonConfig.SubCallback = ButtonConfig.SubCallback or function() end

                local Button = Instance.new("Frame")
                Button.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Button.BackgroundTransparency = 0.935
                Button.Size = UDim2.new(1, 0, 0, 40)
                Button.Parent = ScrolLayers

                local UICorner = Instance.new("UICorner")
                UICorner.CornerRadius = UDim.new(0, 4)
                UICorner.Parent = Button

                local MainButton = Instance.new("TextButton")
                MainButton.Font = Enum.Font.GothamBold
                MainButton.Text = ButtonConfig.Title
                MainButton.TextSize = 12
                MainButton.TextColor3 = Color3.fromRGB(255, 255, 255)
                MainButton.TextXAlignment = Enum.TextXAlignment.Center
                MainButton.BackgroundTransparency = 1
                MainButton.Size = UDim2.new(1, -20, 1, -10)
                MainButton.AnchorPoint = Vector2.new(0.5, 0.5)
                MainButton.Position = UDim2.new(0.5, 0, 0.5, 0)
                MainButton.Parent = Button

                MainButton.MouseButton1Click:Connect(function()
                    ButtonConfig.Callback()
                end)

                if ButtonConfig.SubTitle then
                    MainButton.Size = UDim2.new(0.5, -12, 1, -10)
                    MainButton.AnchorPoint = Vector2.new(0, 0.5)
                    MainButton.Position = UDim2.new(0, 10, 0.5, 0)

                    local SubButton = Instance.new("TextButton")
                    SubButton.Font = Enum.Font.GothamBold
                    SubButton.Text = ButtonConfig.SubTitle
                    SubButton.TextSize = 12
                    SubButton.TextColor3 = GuiConfig.Color
                    SubButton.TextXAlignment = Enum.TextXAlignment.Center
                    SubButton.BackgroundTransparency = 1
                    SubButton.Size = UDim2.new(0.5, -12, 1, -10)
                    SubButton.AnchorPoint = Vector2.new(1, 0.5)
                    SubButton.Position = UDim2.new(1, -10, 0.5, 0)
                    SubButton.Parent = Button

                    SubButton.MouseButton1Click:Connect(function()
                        ButtonConfig.SubCallback()
                    end)
                end

                UpdateSizeScroll()
                return Button
            end

            function SectionFunc.Items:AddToggle(ToggleConfig)
                ToggleConfig = ToggleConfig or {}
                ToggleConfig.Title = ToggleConfig.Title or "Toggle"
                ToggleConfig.Title2 = ToggleConfig.Title2 or ""
                ToggleConfig.Content = ToggleConfig.Content or "Content"
                ToggleConfig.Default = ToggleConfig.Default or false
                ToggleConfig.Callback = ToggleConfig.Callback or function() end

                local configKey = TabConfig.Name .. SectionConfig.Name .. ToggleConfig.Title .. "Toggle"

                local ToggleFunc = { Value = ToggleConfig.Default }
                if ConfigData[configKey] ~= nil then ToggleFunc.Value = ConfigData[configKey] end

                local Toggle = Instance.new("Frame")
                local ToggleTitle = Instance.new("TextLabel")
                local ToggleContent = Instance.new("TextLabel")
                local ToggleButton = Instance.new("TextButton")
                local ToggleCircle = Instance.new("Frame")
                local FeatureFrame2 = Instance.new("Frame")
                local UIStroke8 = Instance.new("UIStroke")
                local UICorner20 = Instance.new("UICorner")
                local UICorner23 = Instance.new("UICorner")

                Toggle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Toggle.BackgroundTransparency = 0.935
                Toggle.BorderSizePixel = 0
                Toggle.Name = "Toggle"
                Toggle.Parent = ScrolLayers
                UICorner20.CornerRadius = UDim.new(0, 4)
                UICorner20.Parent = Toggle

                ToggleTitle.Font = Enum.Font.GothamBold
                ToggleTitle.Text = ToggleConfig.Title
                ToggleTitle.TextSize = 13
                ToggleTitle.TextColor3 = Color3.fromRGB(231, 231, 231)
                ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left
                ToggleTitle.TextYAlignment = Enum.TextYAlignment.Top
                ToggleTitle.BackgroundTransparency = 1
                ToggleTitle.Position = UDim2.new(0, 10, 0, 10)
                ToggleTitle.Size = UDim2.new(1, -100, 0, 13)
                ToggleTitle.Name = "ToggleTitle"
                ToggleTitle.Parent = Toggle

                local ToggleTitle2 = Instance.new("TextLabel")
                ToggleTitle2.Font = Enum.Font.GothamBold
                ToggleTitle2.Text = ToggleConfig.Title2
                ToggleTitle2.TextSize = 12
                ToggleTitle2.TextColor3 = Color3.fromRGB(231, 231, 231)
                ToggleTitle2.TextXAlignment = Enum.TextXAlignment.Left
                ToggleTitle2.TextYAlignment = Enum.TextYAlignment.Top
                ToggleTitle2.BackgroundTransparency = 1
                ToggleTitle2.Position = UDim2.new(0, 10, 0, 23)
                ToggleTitle2.Size = UDim2.new(1, -100, 0, 12)
                ToggleTitle2.Name = "ToggleTitle2"
                ToggleTitle2.Parent = Toggle

                ToggleContent.Font = Enum.Font.GothamBold
                ToggleContent.Text = ToggleConfig.Content
                ToggleContent.TextColor3 = Color3.fromRGB(255, 255, 255)
                ToggleContent.TextSize = 12
                ToggleContent.TextTransparency = 0.6000000238418579
                ToggleContent.TextWrapped = true
                ToggleContent.TextXAlignment = Enum.TextXAlignment.Left
                ToggleContent.TextYAlignment = Enum.TextYAlignment.Bottom
                ToggleContent.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                ToggleContent.BackgroundTransparency = 0.9990000128746033
                ToggleContent.BorderColor3 = Color3.fromRGB(0, 0, 0)
                ToggleContent.BorderSizePixel = 0
                ToggleContent.Position = UDim2.new(0, 10, 0, 35)
                ToggleContent.Size = UDim2.new(1, -60, 0, 12)
                ToggleContent.Name = "ToggleContent"
                ToggleContent.Parent = Toggle

                ToggleContent.Size = UDim2.new(1, -60, 0, 12 + (12 * (ToggleContent.TextBounds.X // ToggleContent.AbsoluteSize.X)))
                Toggle.Size = UDim2.new(1, 0, 0, ToggleContent.AbsoluteSize.Y + 33)

                ToggleContent:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
                    ToggleContent.TextWrapped = false
                    ToggleContent.Size = UDim2.new(1, -60, 0, 12 + (12 * (ToggleContent.TextBounds.X // ToggleContent.AbsoluteSize.X)))
                    Toggle.Size = UDim2.new(1, 0, 0, ToggleContent.AbsoluteSize.Y + 33)
                    ToggleContent.TextWrapped = true
                    UpdateSizeScroll()
                end)

                ToggleButton.Font = Enum.Font.SourceSans
                ToggleButton.Text = ""
                ToggleButton.TextColor3 = Color3.fromRGB(0, 0, 0)
                ToggleButton.TextSize = 14
                ToggleButton.AnchorPoint = Vector2.new(1, 0.5)
                ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                ToggleButton.BackgroundTransparency = 0.9990000128746033
                ToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
                ToggleButton.BorderSizePixel = 0
                ToggleButton.Position = UDim2.new(1, -10, 0.5, 0)
                ToggleButton.Size = UDim2.new(0, 35, 0, 20)
                ToggleButton.Name = "ToggleButton"
                ToggleButton.Parent = Toggle

                FeatureFrame2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                FeatureFrame2.BackgroundTransparency = 0.9200000166893005
                FeatureFrame2.BorderColor3 = Color3.fromRGB(0, 0, 0)
                FeatureFrame2.BorderSizePixel = 0
                FeatureFrame2.Size = UDim2.new(0, 35, 0, 20)
                FeatureFrame2.Name = "FeatureFrame2"
                FeatureFrame2.Parent = ToggleButton
                UICorner20.CornerRadius = UDim.new(0, 15)
                UICorner20.Parent = FeatureFrame2

                UIStroke8.Color = Color3.fromRGB(255, 255, 255)
                UIStroke8.Transparency = 0.9000000357627869
                UIStroke8.Thickness = 1
                UIStroke8.Parent = FeatureFrame2

                ToggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                ToggleCircle.BorderColor3 = Color3.fromRGB(0, 0, 0)
                ToggleCircle.BorderSizePixel = 0
                ToggleCircle.Position = UDim2.new(0, 0, 0, 0)
                ToggleCircle.Size = UDim2.new(0, 20, 0, 20)
                ToggleCircle.Name = "ToggleCircle"
                ToggleCircle.Parent = FeatureFrame2
                UICorner23.CornerRadius = UDim.new(0, 15)
                UICorner23.Parent = ToggleCircle

                ToggleButton.Activated:Connect(function()
                    ToggleFunc.Value = not ToggleFunc.Value
                    ToggleFunc:Set(ToggleFunc.Value)
                end)

                function ToggleFunc:Set(Value)
                    if typeof(ToggleConfig.Callback) == "function" then
                        local ok, err = pcall(function() ToggleConfig.Callback(Value) end)
                        if not ok then warn("Toggle Callback error:", err) end
                    end
                    ConfigData[configKey] = Value
                    SaveConfig()
                    if Value then
                        TweenService:Create(ToggleTitle, TweenInfo.new(0.2), { TextColor3 = GuiConfig.Color }):Play()
                        TweenService:Create(ToggleCircle, TweenInfo.new(0.2), { Position = UDim2.new(0, 15, 0, 0) }):Play()
                        TweenService:Create(UIStroke8, TweenInfo.new(0.2), { Color = GuiConfig.Color, Transparency = 0 }):Play()
                        TweenService:Create(FeatureFrame2, TweenInfo.new(0.2), { BackgroundColor3 = GuiConfig.Color, BackgroundTransparency = 0 }):Play()
                    else
                        TweenService:Create(ToggleTitle, TweenInfo.new(0.2), { TextColor3 = Color3.fromRGB(230, 230, 230) }):Play()
                        TweenService:Create(ToggleCircle, TweenInfo.new(0.2), { Position = UDim2.new(0, 0, 0, 0) }):Play()
                        TweenService:Create(UIStroke8, TweenInfo.new(0.2), { Color = Color3.fromRGB(255, 255, 255), Transparency = 0.9 }):Play()
                        TweenService:Create(FeatureFrame2, TweenInfo.new(0.2), { BackgroundColor3 = Color3.fromRGB(255, 255, 255), BackgroundTransparency = 0.92 }):Play()
                    end
                end

                ToggleFunc:Set(ToggleFunc.Value)

                UpdateSizeScroll()
                return ToggleFunc
            end

            function SectionFunc.Items:AddSlider(SliderConfig)
                SliderConfig = SliderConfig or {}
                SliderConfig.Title = SliderConfig.Title or "Slider"
                SliderConfig.Content = SliderConfig.Content or "Content"
                SliderConfig.Min = SliderConfig.Min or 0
                SliderConfig.Max = SliderConfig.Max or 100
                SliderConfig.Default = SliderConfig.Default or SliderConfig.Min
                SliderConfig.Increment = SliderConfig.Increment or 1
                SliderConfig.Callback = SliderConfig.Callback or function() end

                local configKey = TabConfig.Name .. SectionConfig.Name .. SliderConfig.Title .. "Slider"

                local function Round(n, increment)
                    return math.floor((n / increment) + 0.5) * increment
                end

                local SliderFunc = { Value = SliderConfig.Default }
                if ConfigData[configKey] ~= nil then SliderFunc.Value = ConfigData[configKey] end

                local Slider = Instance.new("Frame")
                local SliderTitle = Instance.new("TextLabel")
                local SliderContent = Instance.new("TextLabel")
                local SliderFrame = Instance.new("Frame")
                local SliderInput = Instance.new("Frame")
                local SliderDraggable = Instance.new("Frame")
                local SliderCircle = Instance.new("Frame")
                local TextBox = Instance.new("TextBox")
                local UICorner = Instance.new("UICorner")

                Slider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Slider.BackgroundTransparency = 0.935
                Slider.BorderSizePixel = 0
                Slider.Size = UDim2.new(1, 0, 0, 60)
                Slider.Name = "Slider"
                Slider.Parent = ScrolLayers
                UICorner.CornerRadius = UDim.new(0, 4)
                UICorner.Parent = Slider

                SliderTitle.Font = Enum.Font.GothamBold
                SliderTitle.Text = SliderConfig.Title
                SliderTitle.TextSize = 13
                SliderTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
                SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
                SliderTitle.TextYAlignment = Enum.TextYAlignment.Top
                SliderTitle.BackgroundTransparency = 1
                SliderTitle.Position = UDim2.new(0, 10, 0, 10)
                SliderTitle.Size = UDim2.new(1, -100, 0, 13)
                SliderTitle.Name = "SliderTitle"
                SliderTitle.Parent = Slider

                SliderContent.Font = Enum.Font.GothamBold
                SliderContent.Text = SliderConfig.Content
                SliderContent.TextColor3 = Color3.fromRGB(255, 255, 255)
                SliderContent.TextSize = 12
                SliderContent.TextTransparency = 0.6000000238418579
                SliderContent.TextXAlignment = Enum.TextXAlignment.Left
                SliderContent.TextYAlignment = Enum.TextYAlignment.Bottom
                SliderContent.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                SliderContent.BackgroundTransparency = 0.9990000128746033
                SliderContent.BorderColor3 = Color3.fromRGB(0, 0, 0)
                SliderContent.BorderSizePixel = 0
                SliderContent.Position = UDim2.new(0, 10, 0, 25)
                SliderContent.Size = UDim2.new(1, -180, 0, 12)
                SliderContent.Name = "SliderContent"
                SliderContent.Parent = Slider

                SliderContent.Size = UDim2.new(1, -180, 0, 12 + (12 * (SliderContent.TextBounds.X // SliderContent.AbsoluteSize.X)))
                SliderContent.TextWrapped = true
                Slider.Size = UDim2.new(1, 0, 0, SliderContent.AbsoluteSize.Y + 33)

                SliderContent:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
                    SliderContent.TextWrapped = false
                    SliderContent.Size = UDim2.new(1, -180, 0, 12 + (12 * (SliderContent.TextBounds.X // SliderContent.AbsoluteSize.X)))
                    Slider.Size = UDim2.new(1, 0, 0, SliderContent.AbsoluteSize.Y + 33)
                    SliderContent.TextWrapped = true
                    UpdateSizeScroll()
                end)

                SliderInput.AnchorPoint = Vector2.new(0, 0.5)
                SliderInput.BackgroundColor3 = GuiConfig.Color
                SliderInput.BorderColor3 = Color3.fromRGB(0, 0, 0)
                SliderInput.BorderSizePixel = 0
                SliderInput.Position = UDim2.new(1, -10, 0.5, 0)
                SliderInput.Size = UDim2.new(0, 60, 0, 20)
                SliderInput.Name = "SliderInput"
                SliderInput.Parent = Slider
                Instance.new("UICorner", SliderInput).CornerRadius = UDim.new(0, 4)

                TextBox.Font = Enum.Font.GothamBold
                TextBox.Text = tostring(SliderFunc.Value)
                TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
                TextBox.TextSize = 12
                TextBox.TextXAlignment = Enum.TextXAlignment.Center
                TextBox.TextYAlignment = Enum.TextYAlignment.Center
                TextBox.BackgroundTransparency = 1
                TextBox.Size = UDim2.new(1, 0, 1, 0)
                TextBox.Parent = SliderInput

                SliderFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                SliderFrame.BackgroundTransparency = 0.9200000166893005
                SliderFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
                SliderFrame.BorderSizePixel = 0
                SliderFrame.Position = UDim2.new(0, 10, 0, SliderContent.AbsoluteSize.Y + 23)
                SliderFrame.Size = UDim2.new(1, -20, 0, 8)
                SliderFrame.Name = "SliderFrame"
                SliderFrame.Parent = Slider
                Instance.new("UICorner", SliderFrame).CornerRadius = UDim.new(0, 4)

                SliderDraggable.BackgroundColor3 = GuiConfig.Color
                SliderDraggable.BorderColor3 = Color3.fromRGB(0, 0, 0)
                SliderDraggable.BorderSizePixel = 0
                SliderDraggable.Size = UDim2.fromScale((SliderFunc.Value - SliderConfig.Min) / (SliderConfig.Max - SliderConfig.Min), 1)
                SliderDraggable.Name = "SliderDraggable"
                SliderDraggable.Parent = SliderFrame
                Instance.new("UICorner", SliderDraggable).CornerRadius = UDim.new(0, 4)

                SliderCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                SliderCircle.BorderColor3 = Color3.fromRGB(0, 0, 0)
                SliderCircle.BorderSizePixel = 0
                SliderCircle.AnchorPoint = Vector2.new(1, 0.5)
                SliderCircle.Position = UDim2.new(1, 0, 0.5, 0)
                SliderCircle.Size = UDim2.new(0, 8, 0, 8)
                SliderCircle.Name = "SliderCircle"
                SliderCircle.Parent = SliderDraggable
                Instance.new("UICorner", SliderCircle).CornerRadius = UDim.new(0, 15)

                local Dragging = false
                local function UpdateSliderValue(Input)
                    local SizeScale = math.clamp(
                        (Input.Position.X - SliderFrame.AbsolutePosition.X) / SliderFrame.AbsoluteSize.X,
                        0, 1
                    )
                    SliderFunc:Set(SliderConfig.Min + ((SliderConfig.Max - SliderConfig.Min) * SizeScale))
                end

                function SliderFunc:Set(Value)
                    Value = math.clamp(Round(Value, SliderConfig.Increment), SliderConfig.Min, SliderConfig.Max)
                    SliderFunc.Value = Value
                    TextBox.Text = tostring(Value)
                    TweenService:Create(
                        SliderDraggable,
                        TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                        { Size = UDim2.fromScale((Value - SliderConfig.Min) / (SliderConfig.Max - SliderConfig.Min), 1) }
                    ):Play()
                    SliderConfig.Callback(Value)
                    ConfigData[configKey] = Value
                    SaveConfig()
                end

                SliderFrame.InputBegan:Connect(function(Input)
                    if Input.UserInputType == Enum.UserInputType.MouseButton1 or Input.UserInputType == Enum.UserInputType.Touch then
                        Dragging = true
                        TweenService:Create(
                            SliderCircle,
                            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                            { Size = UDim2.new(0, 14, 0, 14) }
                        ):Play()
                        UpdateSliderValue(Input)
                    end
                end)

                SliderFrame.InputEnded:Connect(function(Input)
                    if Input.UserInputType == Enum.UserInputType.MouseButton1 or Input.UserInputType == Enum.UserInputType.Touch then
                        Dragging = false
                        SliderConfig.Callback(SliderFunc.Value)
                        TweenService:Create(
                            SliderCircle,
                            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                            { Size = UDim2.new(0, 8, 0, 8) }
                        ):Play()
                    end
                end)

                UserInputService.InputChanged:Connect(function(Input)
                    if Dragging and (Input.UserInputType == Enum.UserInputType.MouseMovement or Input.UserInputType == Enum.UserInputType.Touch) then
                        UpdateSliderValue(Input)
                    end
                end)

                TextBox.FocusLost:Connect(function(enterPressed)
                    if enterPressed then
                        local num = tonumber(TextBox.Text)
                        if num then
                            SliderFunc:Set(num)
                        else
                            TextBox.Text = tostring(SliderFunc.Value)
                        end
                    end
                end)

                SliderFunc:Set(SliderFunc.Value)
                UpdateSizeScroll()
                return SliderFunc
            end

            function SectionFunc.Items:AddTextBox(InputConfig)
                InputConfig = InputConfig or {}
                InputConfig.Title = InputConfig.Title or "Input"
                InputConfig.Content = InputConfig.Content or "This is a TextBox"
                InputConfig.Default = InputConfig.Default or ""
                InputConfig.Callback = InputConfig.Callback or function() end
                InputConfig.Placeholder = InputConfig.Placeholder or "Enter Value"
                InputConfig.PlaceholderColor = InputConfig.PlaceholderColor or Color3.fromRGB(150, 150, 150)

                local configKey = TabConfig.Name .. SectionConfig.Name .. InputConfig.Title .. "TextBox"

                local InputFunc = { Value = InputConfig.Default }
                if ConfigData[configKey] ~= nil then InputFunc.Value = ConfigData[configKey] end

                local Input = Instance.new("Frame")
                local InputTitle = Instance.new("TextLabel")
                local InputContent = Instance.new("TextLabel")
                local TextBox = Instance.new("TextBox")
                local UICorner = Instance.new("UICorner")

                Input.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Input.BackgroundTransparency = 0.935
                Input.BorderSizePixel = 0
                Input.Size = UDim2.new(1, 0, 0, 75)
                Input.Name = "Input"
                Input.Parent = ScrolLayers
                UICorner.CornerRadius = UDim.new(0, 4)
                UICorner.Parent = Input

                InputTitle.Font = Enum.Font.GothamBold
                InputTitle.Text = InputConfig.Title
                InputTitle.TextSize = 13
                InputTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
                InputTitle.TextXAlignment = Enum.TextXAlignment.Left
                InputTitle.TextYAlignment = Enum.TextYAlignment.Top
                InputTitle.BackgroundTransparency = 1
                InputTitle.Position = UDim2.new(0, 10, 0, 10)
                InputTitle.Size = UDim2.new(1, -100, 0, 13)
                InputTitle.Name = "InputTitle"
                InputTitle.Parent = Input

                InputContent.Font = Enum.Font.GothamBold
                InputContent.Text = InputConfig.Content or "This is a TextBox"
                InputContent.TextColor3 = Color3.fromRGB(255, 255, 255)
                InputContent.TextSize = 12
                InputContent.TextTransparency = 0.6000000238418579
                InputContent.TextWrapped = true
                InputContent.TextXAlignment = Enum.TextXAlignment.Left
                InputContent.TextYAlignment = Enum.TextYAlignment.Bottom
                InputContent.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                InputContent.BackgroundTransparency = 0.9990000128746033
                InputContent.BorderColor3 = Color3.fromRGB(0, 0, 0)
                InputContent.BorderSizePixel = 0
                InputContent.Position = UDim2.new(0, 10, 0, 25)
                InputContent.Size = UDim2.new(1, -180, 0, 12)
                InputContent.Name = "InputContent"
                InputContent.Parent = Input

                InputContent.Size = UDim2.new(1, -180, 0, 12 + (12 * (InputContent.TextBounds.X // InputContent.AbsoluteSize.X)))
                Input.Size = UDim2.new(1, 0, 0, InputContent.AbsoluteSize.Y + 43)
                InputContent.TextWrapped = true

                InputContent:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
                    InputContent.TextWrapped = false
                    InputContent.Size = UDim2.new(1, -180, 0, 12 + (12 * (InputContent.TextBounds.X // InputContent.AbsoluteSize.X)))
                    Input.Size = UDim2.new(1, 0, 0, InputContent.AbsoluteSize.Y + 43)
                    InputContent.TextWrapped = true
                    UpdateSizeScroll()
                end)

                TextBox.Font = Enum.Font.Gotham
                TextBox.PlaceholderText = InputConfig.Placeholder
                TextBox.PlaceholderColor3 = InputConfig.PlaceholderColor
                TextBox.Text = InputFunc.Value
                TextBox.TextSize = 13
                TextBox.TextColor3 = Color3.fromRGB(230, 230, 230)
                TextBox.TextXAlignment = Enum.TextXAlignment.Left
                TextBox.BackgroundTransparency = 0.935
                TextBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                TextBox.Position = UDim2.new(0, 10, 0, InputContent.AbsoluteSize.Y + 28)
                TextBox.Size = UDim2.new(1, -20, 0, 30)
                TextBox.Parent = Input
                Instance.new("UICorner", TextBox).CornerRadius = UDim.new(0, 6)

                TextBox:GetPropertyChangedSignal("AbsolutePosition"):Connect(function()
                    TextBox.Position = UDim2.new(0, 10, 0, InputContent.AbsoluteSize.Y + 28)
                end)

                TextBox.FocusLost:Connect(function()
                    InputFunc.Value = TextBox.Text
                    ConfigData[configKey] = TextBox.Text
                    SaveConfig()
                    InputConfig.Callback(InputFunc.Value)
                end)

                function InputFunc:Set(Value)
                    InputFunc.Value = Value
                    TextBox.Text = Value
                    ConfigData[configKey] = Value
                    SaveConfig()
                    InputConfig.Callback(InputFunc.Value)
                end

                function InputFunc:GetInput() return TextBox.Text end

                UpdateSizeScroll()
                return InputFunc
            end

            function SectionFunc.Items:AddDropdown(DropdownConfig)
                DropdownConfig = DropdownConfig or {}
                DropdownConfig.Title = DropdownConfig.Title or "Dropdown"
                DropdownConfig.Content = DropdownConfig.Content or "Content"
                DropdownConfig.Options = DropdownConfig.Options or {}
                DropdownConfig.Default = DropdownConfig.Default or DropdownConfig.Options[1] or ""
                DropdownConfig.Callback = DropdownConfig.Callback or function() end
                DropdownConfig.Multi = DropdownConfig.Multi or false

                local configKey = TabConfig.Name .. SectionConfig.Name .. DropdownConfig.Title .. "Dropdown"

                local DropdownFunc = { Value = DropdownConfig.Default }
                if ConfigData[configKey] ~= nil then DropdownFunc.Value = ConfigData[configKey] end

                local Dropdown = Instance.new("Frame")
                local DropdownTitle = Instance.new("TextLabel")
                local DropdownContent = Instance.new("TextLabel")
                local SelectButton = Instance.new("TextButton")
                local ScrollSelect = Instance.new("ScrollingFrame")
                local UICorner = Instance.new("UICorner")

                Dropdown.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Dropdown.BackgroundTransparency = 0.935
                Dropdown.BorderSizePixel = 0
                Dropdown.Size = UDim2.new(1, 0, 0, 75)
                Dropdown.Name = "Dropdown"
                Dropdown.Parent = ScrolLayers
                UICorner.CornerRadius = UDim.new(0, 4)
                UICorner.Parent = Dropdown

                DropdownTitle.Font = Enum.Font.GothamBold
                DropdownTitle.Text = DropdownConfig.Title
                DropdownTitle.TextSize = 13
                DropdownTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
                DropdownTitle.TextXAlignment = Enum.TextXAlignment.Left
                DropdownTitle.TextYAlignment = Enum.TextYAlignment.Top
                DropdownTitle.BackgroundTransparency = 1
                DropdownTitle.Position = UDim2.new(0, 10, 0, 10)
                DropdownTitle.Size = UDim2.new(1, -100, 0, 13)
                DropdownTitle.Name = "DropdownTitle"
                DropdownTitle.Parent = Dropdown

                DropdownContent.Font = Enum.Font.GothamBold
                DropdownContent.Text = DropdownConfig.Content
                DropdownContent.TextColor3 = Color3.fromRGB(255, 255, 255)
                DropdownContent.TextSize = 12
                DropdownContent.TextTransparency = 0.6000000238418579
                DropdownContent.TextWrapped = true
                DropdownContent.TextXAlignment = Enum.TextXAlignment.Left
                DropdownContent.TextYAlignment = Enum.TextYAlignment.Bottom
                DropdownContent.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                DropdownContent.BackgroundTransparency = 0.9990000128746033
                DropdownContent.BorderColor3 = Color3.fromRGB(0, 0, 0)
                DropdownContent.BorderSizePixel = 0
                DropdownContent.Position = UDim2.new(0, 10, 0, 25)
                DropdownContent.Size = UDim2.new(1, -180, 0, 12)
                DropdownContent.Name = "DropdownContent"
                DropdownContent.Parent = Dropdown

                DropdownContent.Size = UDim2.new(1, -180, 0, 12 + (12 * (DropdownContent.TextBounds.X // DropdownContent.AbsoluteSize.X)))
                Dropdown.Size = UDim2.new(1, 0, 0, DropdownContent.AbsoluteSize.Y + 43)
                DropdownContent.TextWrapped = true

                DropdownContent:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
                    DropdownContent.TextWrapped = false
                    DropdownContent.Size = UDim2.new(1, -180, 0, 12 + (12 * (DropdownContent.TextBounds.X // DropdownContent.AbsoluteSize.X)))
                    Dropdown.Size = UDim2.new(1, 0, 0, DropdownContent.AbsoluteSize.Y + 43)
                    DropdownContent.TextWrapped = true
                    UpdateSizeScroll()
                end)

                SelectButton.Font = Enum.Font.GothamBold
                SelectButton.Text = DropdownFunc.Value
                SelectButton.TextColor3 = Color3.fromRGB(230, 230, 230)
                SelectButton.TextSize = 13
                SelectButton.TextXAlignment = Enum.TextXAlignment.Left
                SelectButton.BackgroundTransparency = 0.935
                SelectButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                SelectButton.Position = UDim2.new(0, 10, 0, DropdownContent.AbsoluteSize.Y + 28)
                SelectButton.Size = UDim2.new(1, -20, 0, 30)
                SelectButton.Name = "SelectButton"
                SelectButton.Parent = Dropdown
                Instance.new("UICorner", SelectButton).CornerRadius = UDim.new(0, 6)

                SelectButton:GetPropertyChangedSignal("AbsolutePosition"):Connect(function()
                    SelectButton.Position = UDim2.new(0, 10, 0, DropdownContent.AbsoluteSize.Y + 28)
                end)

                local Icon = Instance.new("ImageLabel")
                Icon.Image = "rbxassetid://10619179503"
                Icon.Size = UDim2.new(0, 16, 0, 16)
                Icon.AnchorPoint = Vector2.new(1, 0.5)
                Icon.Position = UDim2.new(1, -8, 0.5, 0)
                Icon.BackgroundTransparency = 1
                Icon.Parent = SelectButton

                ScrollSelect.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                ScrollSelect.BackgroundTransparency = 0.935
                ScrollSelect.BorderColor3 = Color3.fromRGB(0, 0, 0)
                ScrollSelect.BorderSizePixel = 0
                ScrollSelect.Position = UDim2.new(0, 10, 0, DropdownContent.AbsoluteSize.Y + 60)
                ScrollSelect.Size = UDim2.new(1, -20, 0, 0)
                ScrollSelect.Name = "ScrollSelect"
                ScrollSelect.Visible = false
                ScrollSelect.Parent = Dropdown

                local UICorner1 = Instance.new("UICorner")
                UICorner1.CornerRadius = UDim.new(0, 6)
                UICorner1.Parent = ScrollSelect

                local UIListLayout = Instance.new("UIListLayout")
                UIListLayout.Padding = UDim.new(0, 1)
                UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
                UIListLayout.Parent = ScrollSelect

                local IsOpen = false
                local function UpdateSizeSelect(Size)
                    local maxHeight = math.min(Size, 150)
                    ScrollSelect.CanvasSize = UDim2.new(0, 0, 0, Size)
                    local Tween = TweenService:Create(ScrollSelect, TweenInfo.new(0.2), { Size = UDim2.new(1, -20, 0, maxHeight) })
                    Tween:Play()
                end

                for i, v in DropdownConfig.Options do
                    local Option = Instance.new("Frame")
                    Option.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Option.BackgroundTransparency = 0.935
                    Option.BorderSizePixel = 0
                    Option.Size = UDim2.new(1, 0, 0, 20)
                    Option.Name = "Option"
                    Option.Parent = ScrollSelect
                    Option:SetAttribute("RealValue", v)

                    local OptionText = Instance.new("TextLabel")
                    OptionText.Font = Enum.Font.Gotham
                    OptionText.Text = tostring(v)
                    OptionText.TextColor3 = Color3.fromRGB(255, 255, 255)
                    OptionText.TextSize = 13
                    OptionText.TextXAlignment = Enum.TextXAlignment.Left
                    OptionText.BackgroundTransparency = 1
                    OptionText.Position = UDim2.new(0, 10, 0, 0)
                    OptionText.Size = UDim2.new(1, 0, 1, 0)
                    OptionText.Name = "OptionText"
                    OptionText.Parent = Option

                    local ChooseFrame = Instance.new("Frame")
                    ChooseFrame.BackgroundColor3 = GuiConfig.Color
                    ChooseFrame.BackgroundTransparency = 1
                    ChooseFrame.BorderSizePixel = 0
                    ChooseFrame.Size = UDim2.new(0, 1, 0, 12)
                    ChooseFrame.AnchorPoint = Vector2.new(1, 0.5)
                    ChooseFrame.Position = UDim2.new(1, -10, 0.5, 0)
                    ChooseFrame.Name = "ChooseFrame"
                    ChooseFrame.Parent = Option

                    local UIStroke = Instance.new("UIStroke")
                    UIStroke.Color = GuiConfig.Color
                    UIStroke.Transparency = 0.9000000357627869
                    UIStroke.Thickness = 1
                    UIStroke.Parent = ChooseFrame

                    local Button = Instance.new("TextButton")
                    Button.BackgroundTransparency = 1
                    Button.Text = ""
                    Button.Size = UDim2.new(1, 0, 1, 0)
                    Button.Parent = Option

                    Button.MouseButton1Click:Connect(function()
                        local realValue = Option:GetAttribute("RealValue")
                        if DropdownConfig.Multi then
                            local index = table.find(DropdownFunc.Value, realValue)
                            if index then
                                table.remove(DropdownFunc.Value, index)
                            else
                                table.insert(DropdownFunc.Value, realValue)
                            end
                        else
                            DropdownFunc.Value = realValue
                            SelectButton.Text = realValue
                            TweenService:Create(ScrollSelect, TweenInfo.new(0.2), { Size = UDim2.new(1, -20, 0, 0) }):Play()
                            IsOpen = false
                            TweenService:Create(Icon, TweenInfo.new(0.2), { Rotation = 0 }):Play()
                        end
                        DropdownFunc:Set(DropdownFunc.Value)
                    end)
                end

                SelectButton.MouseButton1Click:Connect(function()
                    IsOpen = not IsOpen
                    if IsOpen then
                        local size = #DropdownConfig.Options * 21 + 2
                        UpdateSizeSelect(size)
                        TweenService:Create(Icon, TweenInfo.new(0.2), { Rotation = 180 }):Play()
                        ScrollSelect.Visible = true
                    else
                        TweenService:Create(ScrollSelect, TweenInfo.new(0.2), { Size = UDim2.new(1, -20, 0, 0) }):Play()
                        TweenService:Create(Icon, TweenInfo.new(0.2), { Rotation = 0 }):Play()
                        task.wait(0.2)
                        ScrollSelect.Visible = false
                    end
                end)

                function DropdownFunc:Set(Value)
                    if DropdownConfig.Multi then DropdownFunc.Value = type(Value) == "table" and Value or {} else DropdownFunc.Value = (type(Value) == "table" and Value[1]) or Value end
                    ConfigData[configKey] = DropdownFunc.Value
                    SaveConfig()
                    local texts = {}
                    for _, Drop in ScrollSelect:GetChildren() do
                        if Drop.Name == "Option" and Drop:FindFirstChild("OptionText") then
                            local v = Drop:GetAttribute("RealValue")
                            local selected = DropdownConfig.Multi and table.find(DropdownFunc.Value, v) or DropdownFunc.Value == v
                            if selected then
                                TweenService:Create(Drop.ChooseFrame, TweenInfo.new(0.2), { Size = UDim2.new(0, 12, 0, 12) }):Play()
                                TweenService:Create(Drop.ChooseFrame.UIStroke, TweenInfo.new(0.2), { Transparency = 0 }):Play()
                                TweenService:Create(Drop, TweenInfo.new(0.2), { BackgroundTransparency = 0.935 }):Play()
                                table.insert(texts, Drop.OptionText.Text)
                            else
                                TweenService:Create(Drop.ChooseFrame, TweenInfo.new(0.2), { Size = UDim2.new(0, 1, 0, 12) }):Play()
                                TweenService:Create(Drop.ChooseFrame.UIStroke, TweenInfo.new(0.2), { Transparency = 0.9 }):Play()
                                TweenService:Create(Drop, TweenInfo.new(0.2), { BackgroundTransparency = 1 }):Play()
                            end
                        end
                    end
                    if not DropdownConfig.Multi then
                        SelectButton.Text = DropdownFunc.Value
                    else
                        SelectButton.Text = (#texts > 0) and table.concat(texts, ", ") or "Select Options"
                    end
                    DropdownConfig.Callback(DropdownFunc.Value)
                end

                DropdownFunc:Set(DropdownFunc.Value)
                UpdateSizeScroll()
                return DropdownFunc
            end

            table.insert(TabFunc.Sections, SectionFunc)
            return SectionFunc
        end

        table.insert(Tabs, Tab)

        if not CurrentTab then
            CurrentTab = Tab
            TabPage.Visible = true
            Tab.BackgroundTransparency = 0.85
            NameTab.Text = TabConfig.Name
        end

        TabButton.MouseButton1Click:Connect(function()
            if CurrentTab then
                CurrentTab.BackgroundTransparency = 0.95
                LayersFolder[CurrentTab.Name .. "Page"].Visible = false
            end

            CurrentTab = Tab
            CurrentTab.BackgroundTransparency = 0.85
            LayersFolder[CurrentTab.Name .. "Page"].Visible = true
            NameTab.Text = TabConfig.Name

            LayersPageLayout:JumpTo(LayersFolder[CurrentTab.Name .. "Page"])
        end)

        return TabFunc
    end

    Close.MouseButton1Click:Connect(function()
        DropShadowHolder.Visible = false
    end)

    Min.MouseButton1Click:Connect(function()
        Main.Visible = not Main.Visible
        if Main.Visible then
            DropShadow.ImageTransparency = 1
        else
            DropShadow.ImageTransparency = 0.5
        end
    end)

    MakeDraggable(Top, DropShadowHolder)

    return GuiFunc
end

return MengHub -- DIGANTI dari Chloex
